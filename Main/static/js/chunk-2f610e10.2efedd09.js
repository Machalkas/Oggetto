(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f610e10"],{"03fe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("h1",[t._v("This is an creating stream page")]),a("div",{staticClass:"stream-create"},[a("h1",[t._v("Настройки")]),a("div",{staticClass:"stream-create__top"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),a("div",[a("button",{on:{click:function(e){return t.show()}}},[t._v("Добавить")]),a("h4",[t._v("Нажмите + чтобы добавить товар")])])]),a("div",[a("button",{on:{click:function(e){return t.start()}}},[t._v("ЗАПУСКАЙ ПОТОК")])])]),a("div",{staticClass:"stream-create__bot"},[a("button",[t._v("left")]),t._l(t.products,(function(t,e){return[a("Product",{key:e,attrs:{name:t.name,price:t.price,description:t.description,isOnStream:"false"}})]})),a("button",[t._v("right")])],2),a("modal",{attrs:{name:"append"}},[a("div",[t._v("Перетащите изображение сюда")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Название товара"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.articul,expression:"articul"}],attrs:{type:"text",placeholder:"Артикул"},domProps:{value:t.articul},on:{input:function(e){e.target.composing||(t.articul=e.target.value)}}}),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"text",placeholder:"Цена"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),a("input",{attrs:{type:"text",placeholde:"а тут што"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"Описание"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),a("button",{on:{click:function(e){return t.close()}}},[t._v("Добавить")])]),a("modal",{attrs:{name:"infoStream"}},[a("h1",[t._v("Stream started!")]),a("h2",[t._v("http://localhost:8080/#/stream?stream-id="+t._s(t.streamId))]),a("h2",[t._v(t._s(t.obsKey))]),a("button",{on:{click:function(e){return t.hideInfo()}}},[t._v("close")])])],1)])},r=[],i=a("d4ec"),o=a("bee2"),c=a("262e"),s=a("2caf"),u=(a("b0c0"),a("a4d3"),a("e01a"),a("fb6a"),a("9ab4")),l=a("1b40"),p=a("bc3a"),d=a.n(p),v=a("4315"),m=a("be6f");console.log(window.location.href);var f=function(t){Object(c["a"])(a,t);var e=Object(s["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.products=[],t.title="",t.name="",t.articul="",t.price="",t.description="",t.streamId="",t.obsKey="",t}return Object(o["a"])(a,[{key:"show",value:function(){this.$modal.show("append")}},{key:"close",value:function(){this.$modal.hide("append"),this.products.push({name:this.name,articul:this.articul,price:parseInt(this.price),description:this.description}),this.name="",this.articul="",this.price="",this.description="",console.log(this.products)}},{key:"hideInfo",value:function(){this.$modal.hide("infoStream")}},{key:"start",value:function(){var t=this,e="",a="";d.a.post("https://sandbox.api.video/auth/api-key",{apiKey:"uii7m68YfExv4o08ampTQNooM8zfPCXWhtl1D8aFHNs"}).then((function(n){e=n.data.token_type,a=n.data.access_token;var r=e+" "+a;d.a.post("https://sandbox.api.video/live-streams",{name:"stream"},{headers:{"Content-Type":"application/json",Authorization:r}}).then((function(e){t.obsKey=e.data.streamKey;var a=e.data.assets.iframe;a=a.slice(a.indexOf("src")+5,a.indexOf(" ",10)-1),console.log(a);var n={data:{url:a,streamKey:e.data.streamKey,title:t.title,shop:9},token:123,goods:t.products};console.log(n),console.log(JSON.stringify(n)),d.a.post("http://192.168.193.19:8855/streams/create",JSON.stringify(n)).then((function(e){t.streamId=e.data.stream_id,console.log(e),t.$modal.show("infoStream")}))}))}))}}]),a}(l["c"]);f=Object(u["a"])([Object(l["a"])({components:{StreamCard:v["a"],Product:m["a"]}})],f);var b=f,h=b,_=(a("b9f4"),a("2877")),y=Object(_["a"])(h,n,r,!1,null,null,null);e["default"]=y.exports},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),i=a("2d00"),o=r("species");t.exports=function(t){return i>=51||!n((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4315:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stream-card"},[a("span",[t._v("#"+t._s(t.num))]),a("br"),a("span",[t._v(t._s(t.date))]),a("img",{attrs:{src:"",alt:""}}),a("hr"),a("div",[t._v(t._s(t.title))]),a("a",{attrs:{href:"http://localhost:8080/#/stream?stream-id="+t.num}},[t._v("go to stream")])])},r=[],i=a("d4ec"),o=a("262e"),c=a("2caf"),s=a("9ab4"),u=a("1b40"),l=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return a}(u["c"]);Object(s["a"])([Object(u["b"])()],l.prototype,"num",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"date",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"title",void 0),l=Object(s["a"])([u["a"]],l);var p=l,d=p,v=a("2877"),m=Object(v["a"])(d,n,r,!1,null,null,null);e["a"]=m.exports},8418:function(t,e,a){"use strict";var n=a("c04e"),r=a("9bf2"),i=a("5c6c");t.exports=function(t,e,a){var o=n(e);o in t?r.f(t,o,i(0,a)):t[o]=a}},"9d6f":function(t,e,a){},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,o=i.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in i)&&r(i,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},b9f4:function(t,e,a){"use strict";a("9d6f")},be6f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stream-card"},[a("img",{attrs:{src:"",alt:""}}),a("hr"),a("span",[t._v(t._s(t.name))]),a("span",[t._v(t._s(t.description))]),a("div",[t._v(t._s(t.price))]),t.isOnStream?a("button",{on:{click:function(e){return t.$emit("dobs",t.articul)}}},[t._v("Добавить в корзину")]):t._e()])},r=[],i=a("d4ec"),o=a("262e"),c=a("2caf"),s=a("9ab4"),u=a("1b40"),l=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return a}(u["c"]);Object(s["a"])([Object(u["b"])()],l.prototype,"name",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"description",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"price",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"isOnStream",void 0),Object(s["a"])([Object(u["b"])()],l.prototype,"articul",void 0),l=Object(s["a"])([u["a"]],l);var p=l,d=p,v=a("2877"),m=Object(v["a"])(d,n,r,!1,null,null,null);e["a"]=m.exports},fb6a:function(t,e,a){"use strict";var n=a("23e7"),r=a("861d"),i=a("e8b5"),o=a("23cb"),c=a("50c4"),s=a("fc6a"),u=a("8418"),l=a("b622"),p=a("1dde"),d=p("slice"),v=l("species"),m=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var a,n,l,p=s(this),d=c(p.length),b=o(t,d),h=o(void 0===e?d:e,d);if(i(p)&&(a=p.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(p,b,h);for(n=new(void 0===a?Array:a)(f(h-b,0)),l=0;b<h;b++,l++)b in p&&u(n,l,p[b]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-2f610e10.2efedd09.js.map